
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 19.5
___/   /   /___/   /   /___/       SE—Standard Edition

 Statistics and Data Science       Copyright 1985-2025 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Single-user , expiring 21 Oct 2026
Serial number: 401909344291
       979-696-4600        service@stata.com

Stata license: Single-user , expiring 21 Oct 2026
Serial number: 401909344291               
  Licensed to: AchimAhrens
               

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000 but can be increased; see help set_maxvar.

. do cs_pystacked_runall.do 130 

. clear all
. clear all

. 
. cap cd "/Users/kahrens/MyProjects/pystacked/cert"
. cap cd "/Users/kahrens/MyProjects/pystacked/cert"


. cap cd "/Users/ecomes/Documents/GitHub/pystacked/cert"

. 
. cap cd "/Users/ecomes/Documents/GitHub/pystacked/cert"

. 
. if "`c(username)'"=="kahrens" {
. if "`c(username)'"=="kahrens" {
.         adopath + "/Users/kahrens/MyProjects/pystacked"
.         adopath + "/Users/kahrens/MyProjects/pystacked"
  [1]  (BASE)      "/Applications/StataNow/ado/base/"
  [2]  (SITE)      "/Applications/StataNow/ado/site/"
  [3]              "."
  [1]  (BASE)      "/Applications/StataNow/ado/base/"
/personal/"
  [5]  (PLUS)      "/Users/kahrens/Library/Application Support/Stata/ado/plus/"
  [2]  (SITE)      "/Applications/StataNow/ado/site/"
  [6]  (OLDPLACE)  "~/ado/"
  [3]              "."
  [7]              "/Users/kahrens/MyProjects/pystacked"
. }

  [4]  (PERSONAL)  "/Users/kahrens/Documents/Stata/ado/personal/"
  [5]  (PLUS)      "/Users/kahrens/Library/Application Support/Stata/ado/plus/"
  [6]  (OLDPLACE)  "~/ado/"
  [7]              "/Users/kahrens/MyProjects/pystacked"
. }

. else if "`c(username)'"=="ecomes" {
. else if "`c(username)'"=="ecomes" {
.         adopath + "/Users/ecomes/Documents/GitHub/pystacked/cert"
.         adopath + "/Users/ecomes/Documents/GitHub/pystacked/cert"
. }

. }

. 
. 
. local ver `1'

. local ver `1'

. local ver 170

. 
. local ver 170

. 
. python set exec "/Users/kahrens/python_envs/sk`ver'/bin/python3"
. python set exec "/Users/kahrens/python_envs/sk`ver'/bin/python3"


. 
. 
. cap log close
. cap log close


. log using "log_cs_pystacked_`ver'.txt", text replace
. log using "log_cs_pystacked_`ver'.txt", text replace
(file /Users/kahrens/MyProjects/pystacked/cert/log_cs_pystacked_170.txt not found)
-------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/kahrens/MyProjects/pystacked/cert/log_cs_pystacked_170.txt
  log type:  text
 opened on:  26 Oct 2025, 09:17:06

. 
. which pystacked 
/Users/kahrens/MyProjects/pystacked/pystacked.ado
*! pystacked v0.7.8e
*! last edited: 23oct2025
*! authors: aa/ms
*! pystacked wrapper - calls pystacked1 (default) or pystacked2 (altpython option)

. python: import sklearn
-------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/kahrens/MyProjects/pystacked/cert/log_cs_pystacked_170.txt
  log type:  text
 opened on:  26 Oct 2025, 09:17:06

. 
. which pystacked 
/Users/kahrens/MyProjects/pystacked/pystacked.ado
*! pystacked v0.7.8e
*! last edited: 23oct2025
*! authors: aa/ms
*! pystacked wrapper - calls pystacked1 (default) or pystacked2 (altpython option)

. python: import sklearn


. python: sklearn.__version__
. python: sklearn.__version__
'1.3.0'


. 
. 
. do "cs_pystacked_class.do"
. do "cs_pystacked_class.do"

. 
. 
. which pystacked 

. 
. 
. which pystacked 
/Users/kahrens/MyProjects/pystacked/pystacked.ado
*! pystacked v0.7.8e
*! last edited: 23oct2025
*! authors: aa/ms
*! pystacked wrapper - calls pystacked1 (default) or pystacked2 (altpython option)

. python: import sklearn

. python: sklearn.__version__
/Users/kahrens/MyProjects/pystacked/pystacked.ado
*! pystacked v0.7.8e
*! last edited: 23oct2025
*! authors: aa/ms
*! pystacked wrapper - calls pystacked1 (default) or pystacked2 (altpython option)

. python: import sklearn
'1.3.0'

. 
. tempfile testdata

. set seed 765
. python: sklearn.__version__
'1.3.0'

. 
. tempfile testdata

. set seed 765

. global model v58 v1-v30
. global model v58 v1-v30

. insheet using https://archive.ics.uci.edu/ml/machine-learning-databases/spambase/spambase.data, clear comma
(58 vars, 4,601 obs)

. sample 15
(3,911 observations deleted)

. gen u = runiform()

. gen train = u<0.5

. gen train2 = u<.75

. save `testdata'
file /var/folders/41/ld3ks1hx60513_z47fz5n33m0000gq/T//S_17410.000001 saved as .dta format

. 
. *******************************************************************************
. *** check that it works without default methods                                                         ***
. *******************************************************************************
. 
.  insheet using ///
>  https://archive.ics.uci.edu/ml/machine-learning-databases/spambase/spambase.data, ///
>  clear comma
(58 vars, 4,601 obs)

. sample 15
(3,911 observations deleted)

. gen u = runiform()

. gen train = u<0.5

. gen train2 = u<.75

. save `testdata'
file /var/folders/41/ld3ks1hx60513_z47fz5n33m0000gq/T//S_17411.000001 saved as .dta format

. 
. *******************************************************************************
. *** check that it works without default methods                                                         ***
. *******************************************************************************
. 
.  insheet using ///
>  https://archive.ics.uci.edu/ml/machine-learning-databases/spambase/spambase.data, ///
>  clear comma
(58 vars, 4,601 obs)

. set seed 42

. gen train=runiform()

. replace train=train<.75
(4,601 real changes made)

.  pystacked v58 v1-v57 , type(class)
(58 vars, 4,601 obs)

. set seed 42

. gen train=runiform()

. replace train=train<.75
(4,601 real changes made)

.  pystacked v58 v1-v57 , type(class)

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.1309122
  lassocv        |      0.0000000
  gradboost      |      0.8690878

. 
.  
. *******************************************************************************
. *** check that printing the coefficients works                                                          ***
. *******************************************************************************
. 
.  insheet using ///
>  https://archive.ics.uci.edu/ml/machine-learning-databases/spambase/spambase.data, ///
>  clear comma

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.1309122
  lassocv        |      0.0000000
  gradboost      |      0.8690878

. 
.  
. *******************************************************************************
. *** check that printing the coefficients works                                                          ***
. *******************************************************************************
. 
.  insheet using ///
>  https://archive.ics.uci.edu/ml/machine-learning-databases/spambase/spambase.data, ///
>  clear comma
(58 vars, 4,601 obs)

. set seed 42

. 
. foreach meth in lassocv elasticcv ridgecv rf gradboost {
  2.         pystacked v58 v1-v57, type(class) m(logit `meth') showc
  3. }
(58 vars, 4,601 obs)

. set seed 42

. 
. foreach meth in lassocv elasticcv ridgecv rf gradboost {
  2.         pystacked v58 v1-v57, type(class) m(logit `meth') showc
  3. }

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.6739518
  lassocv        |      0.3260482

Coefficients logit:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.1179569
  v2              |     -0.1900100
  v3              |      0.0581990
  v4              |      5.3697248
  v5              |      0.3795651
  v6              |      0.2380470
  v7              |      0.8980884
  v8              |      0.2277181
  v9              |      0.1992870
  v10             |      0.0830520
  v11             |     -0.0505583
  v12             |     -0.1205222
  v13             |     -0.0258984
  v14             |      0.0469273
  v15             |      0.3218610
  v16             |      0.8646395
  v17             |      0.4195419
  v18             |      0.0639255
  v19             |      0.1425000
  v20             |      0.5225859
  v21             |      0.2921303
  v22             |      0.2075705
  v23             |      0.7907717
  v24             |      0.1876249
  v25             |     -3.1780905
  v26             |     -0.9711114
  v27             |    -35.5968972
  v28             |      0.2426810
  v29             |     -1.2685533
  v30             |     -0.1515458
  v31             |     -0.0739819
  v32             |      0.8836881
  v33             |     -0.4070677
  v34             |      0.1678270
  v35             |     -1.1232154
  v36             |      0.3752010
  v37             |      0.0178832
  v38             |     -0.1347784
  v39             |     -0.3787394
  v40             |     -0.1097709
  v41             |    -14.2160216
  v42             |     -2.0756730
  v43             |     -0.2731493
  v44             |     -0.9848931
  v45             |     -0.7940632
  v46             |     -1.2974393
  v47             |     -0.1757831
  v48             |     -1.1157710
  v49             |     -0.3168069
  v50             |     -0.0501774
  v51             |     -0.0725830
  v52             |      0.2863579
  v53             |      1.3153398
  v54             |      1.0699341
  v55             |      0.2032155
  v56             |      1.7614043
  v57             |      0.5055226
  _cons           |    -10.9866960
Note: Coefficients correspond to decision boundary function.

Coefficients lassocv:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.0927524
  v2              |     -0.2087767
  v3              |      0.0713842
  v4              |      0.8026795
  v5              |      0.3675217
  v6              |      0.1745002
  v7              |      0.9521076
  v8              |      0.2259153
  v9              |      0.1538970
  v10             |      0.0725012
  v11             |     -0.0451868
  v12             |     -0.1304141
  v13             |     -0.0299883
  v14             |      0.0342585
  v15             |      0.2485486
  v16             |      0.8363669
  v17             |      0.4116139
  v18             |      0.0737981
  v19             |      0.1497646
  v20             |      0.4734683
  v21             |      0.2808785
  v22             |      0.2961755
  v23             |      0.8962999
  v24             |      0.2381985
  v25             |     -2.6561784
  v26             |     -1.0617995
  v27             |     -3.6930977
  v28             |      0.2339028
  v29             |     -0.9617245
  v30             |     -0.1514536
  v31             |     -0.4798314
  v32             |     -0.1653773
  v33             |     -0.5046302
  v34             |     -0.2216528
  v35             |     -0.9496137
  v36             |      0.3643417
  v37             |      0.0028702
  v38             |     -0.1266692
  v39             |     -0.3308447
  v40             |     -0.1887239
  v41             |     -1.2131609
  v42             |     -1.4872199
  v43             |     -0.2313890
  v44             |     -0.9268591
  v45             |     -0.8128207
  v46             |     -1.2851569
  v47             |     -0.1666576
  v48             |     -0.9109827
  v49             |     -0.3281005
  v50             |     -0.0577573
  v51             |     -0.1367399
  v52             |      0.3456474
  v53             |      1.3566301
  v54             |      0.8239033
  v55             |     -0.1222615
  v56             |      1.3008071
  v57             |      0.4150875
  _cons           |     -2.5026034
Note: Coefficients correspond to decision boundary function.

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.6739518
  lassocv        |      0.3260482

Coefficients logit:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.1179569
  v2              |     -0.1900100
  v3              |      0.0581990
  v4              |      5.3697248
  v5              |      0.3795651
  v6              |      0.2380470
  v7              |      0.8980884
  v8              |      0.2277181
  v9              |      0.1992870
  v10             |      0.0830520
  v11             |     -0.0505583
  v12             |     -0.1205222
  v13             |     -0.0258984
  v14             |      0.0469273
  v15             |      0.3218610
  v16             |      0.8646395
  v17             |      0.4195419
  v18             |      0.0639255
  v19             |      0.1425000
  v20             |      0.5225859
  v21             |      0.2921303
  v22             |      0.2075705
  v23             |      0.7907717
  v24             |      0.1876249
  v25             |     -3.1780905
  v26             |     -0.9711114
  v27             |    -35.5968972
  v28             |      0.2426810
  v29             |     -1.2685533
  v30             |     -0.1515458
  v31             |     -0.0739819
  v32             |      0.8836881
  v33             |     -0.4070677
  v34             |      0.1678270
  v35             |     -1.1232154
  v36             |      0.3752010
  v37             |      0.0178832
  v38             |     -0.1347784
  v39             |     -0.3787394
  v40             |     -0.1097709
  v41             |    -14.2160216
  v42             |     -2.0756730
  v43             |     -0.2731493
  v44             |     -0.9848931
  v45             |     -0.7940632
  v46             |     -1.2974393
  v47             |     -0.1757831
  v48             |     -1.1157710
  v49             |     -0.3168069
  v50             |     -0.0501774
  v51             |     -0.0725830
  v52             |      0.2863579
  v53             |      1.3153398
  v54             |      1.0699341
  v55             |      0.2032155
  v56             |      1.7614043
  v57             |      0.5055226
  _cons           |    -10.9866960
Note: Coefficients correspond to decision boundary function.

Coefficients lassocv:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.0927524
  v2              |     -0.2087767
  v3              |      0.0713842
  v4              |      0.8026795
  v5              |      0.3675217
  v6              |      0.1745002
  v7              |      0.9521076
  v8              |      0.2259153
  v9              |      0.1538970
  v10             |      0.0725012
  v11             |     -0.0451868
  v12             |     -0.1304141
  v13             |     -0.0299883
  v14             |      0.0342585
  v15             |      0.2485486
  v16             |      0.8363669
  v17             |      0.4116139
  v18             |      0.0737981
  v19             |      0.1497646
  v20             |      0.4734683
  v21             |      0.2808785
  v22             |      0.2961755
  v23             |      0.8962999
  v24             |      0.2381985
  v25             |     -2.6561784
  v26             |     -1.0617995
  v27             |     -3.6930977
  v28             |      0.2339028
  v29             |     -0.9617245
  v30             |     -0.1514536
  v31             |     -0.4798314
  v32             |     -0.1653773
  v33             |     -0.5046302
  v34             |     -0.2216528
  v35             |     -0.9496137
  v36             |      0.3643417
  v37             |      0.0028702
  v38             |     -0.1266692
  v39             |     -0.3308447
  v40             |     -0.1887239
  v41             |     -1.2131609
  v42             |     -1.4872199
  v43             |     -0.2313890
  v44             |     -0.9268591
  v45             |     -0.8128207
  v46             |     -1.2851569
  v47             |     -0.1666576
  v48             |     -0.9109827
  v49             |     -0.3281005
  v50             |     -0.0577573
  v51             |     -0.1367399
  v52             |      0.3456474
  v53             |      1.3566301
  v54             |      0.8239033
  v55             |     -0.1222615
  v56             |      1.3008071
  v57             |      0.4150875
  _cons           |     -2.5026034
Note: Coefficients correspond to decision boundary function.

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.7936633
  elasticcv      |      0.2063367

Coefficients logit:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.1179569
  v2              |     -0.1900100
  v3              |      0.0581990
  v4              |      5.3697248
  v5              |      0.3795651
  v6              |      0.2380470
  v7              |      0.8980884
  v8              |      0.2277181
  v9              |      0.1992870
  v10             |      0.0830520
  v11             |     -0.0505583
  v12             |     -0.1205222
  v13             |     -0.0258984
  v14             |      0.0469273
  v15             |      0.3218610
  v16             |      0.8646395
  v17             |      0.4195419
  v18             |      0.0639255
  v19             |      0.1425000
  v20             |      0.5225859
  v21             |      0.2921303
  v22             |      0.2075705
  v23             |      0.7907717
  v24             |      0.1876249
  v25             |     -3.1780905
  v26             |     -0.9711114
  v27             |    -35.5968972
  v28             |      0.2426810
  v29             |     -1.2685533
  v30             |     -0.1515458
  v31             |     -0.0739819
  v32             |      0.8836881
  v33             |     -0.4070677
  v34             |      0.1678270
  v35             |     -1.1232154
  v36             |      0.3752010
  v37             |      0.0178832
  v38             |     -0.1347784
  v39             |     -0.3787394
  v40             |     -0.1097709
  v41             |    -14.2160216
  v42             |     -2.0756730
  v43             |     -0.2731493
  v44             |     -0.9848931
  v45             |     -0.7940632
  v46             |     -1.2974393
  v47             |     -0.1757831
  v48             |     -1.1157710
  v49             |     -0.3168069
  v50             |     -0.0501774
  v51             |     -0.0725830
  v52             |      0.2863579
  v53             |      1.3153398
  v54             |      1.0699341
  v55             |      0.2032155
  v56             |      1.7614043
  v57             |      0.5055226
  _cons           |    -10.9866960
Note: Coefficients correspond to decision boundary function.

Coefficients elasticcv:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.0939449
  v2              |     -0.2087687
  v3              |      0.0711424
  v4              |      0.8322985
  v5              |      0.3674088
  v6              |      0.1750651
  v7              |      0.9487451
  v8              |      0.2255434
  v9              |      0.1549128
  v10             |      0.0722846
  v11             |     -0.0456211
  v12             |     -0.1298287
  v13             |     -0.0301083
  v14             |      0.0348886
  v15             |      0.2481631
  v16             |      0.8418445
  v17             |      0.4100889
  v18             |      0.0735661
  v19             |      0.1492821
  v20             |      0.4687352
  v21             |      0.2815580
  v22             |      0.2919727
  v23             |      0.8978450
  v24             |      0.2373671
  v25             |     -2.6219283
  v26             |     -1.1052138
  v27             |     -3.7565029
  v28             |      0.2355017
  v29             |     -1.0034278
  v30             |     -0.1501052
  v31             |     -0.5491865
  v32             |     -0.1919725
  v33             |     -0.4998247
  v34             |     -0.2065952
  v35             |     -0.9856720
  v36             |      0.3640279
  v37             |      0.0026734
  v38             |     -0.1276458
  v39             |     -0.3325274
  v40             |     -0.1807252
  v41             |     -1.2653273
  v42             |     -1.4913100
  v43             |     -0.2290622
  v44             |     -0.9304369
  v45             |     -0.8125845
  v46             |     -1.2804159
  v47             |     -0.1668555
  v48             |     -0.9061920
  v49             |     -0.3282946
  v50             |     -0.0572943
  v51             |     -0.1362474
  v52             |      0.3436530
  v53             |      1.3519903
  v54             |      0.8501562
  v55             |     -0.0810669
  v56             |      1.2900648
  v57             |      0.4166264
  _cons           |     -2.5433030
Note: Coefficients correspond to decision boundary function.

Stacking weights:
---------------------------------------
  Method         |      Weight
-----------------+---------------------
  logit          |      0.7936633
  elasticcv      |      0.2063367

Coefficients logit:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.1179569
  v2              |     -0.1900100
  v3              |      0.0581990
  v4              |      5.3697248
  v5              |      0.3795651
  v6              |      0.2380470
  v7              |      0.8980884
  v8              |      0.2277181
  v9              |      0.1992870
  v10             |      0.0830520
  v11             |     -0.0505583
  v12             |     -0.1205222
  v13             |     -0.0258984
  v14             |      0.0469273
  v15             |      0.3218610
  v16             |      0.8646395
  v17             |      0.4195419
  v18             |      0.0639255
  v19             |      0.1425000
  v20             |      0.5225859
  v21             |      0.2921303
  v22             |      0.2075705
  v23             |      0.7907717
  v24             |      0.1876249
  v25             |     -3.1780905
  v26             |     -0.9711114
  v27             |    -35.5968972
  v28             |      0.2426810
  v29             |     -1.2685533
  v30             |     -0.1515458
  v31             |     -0.0739819
  v32             |      0.8836881
  v33             |     -0.4070677
  v34             |      0.1678270
  v35             |     -1.1232154
  v36             |      0.3752010
  v37             |      0.0178832
  v38             |     -0.1347784
  v39             |     -0.3787394
  v40             |     -0.1097709
  v41             |    -14.2160216
  v42             |     -2.0756730
  v43             |     -0.2731493
  v44             |     -0.9848931
  v45             |     -0.7940632
  v46             |     -1.2974393
  v47             |     -0.1757831
  v48             |     -1.1157710
  v49             |     -0.3168069
  v50             |     -0.0501774
  v51             |     -0.0725830
  v52             |      0.2863579
  v53             |      1.3153398
  v54             |      1.0699341
  v55             |      0.2032155
  v56             |      1.7614043
  v57             |      0.5055226
  _cons           |    -10.9866960
Note: Coefficients correspond to decision boundary function.

Coefficients elasticcv:
----------------------------------------
  Predictor       |      Value
------------------+---------------------
  v1              |     -0.0939449
  v2              |     -0.2087687
  v3              |      0.0711424
  v4              |      0.8322985
  v5              |      0.3674088
  v6              |      0.1750651
  v7              |      0.9487451
  v8              |      0.2255434
  v9              |      0.1549128
  v10             |      0.0722846
  v11             |     -0.0456211
  v12             |     -0.1298287
  v13             |     -0.0301083
  v14             |      0.0348886
  v15             |      0.2481631
  v16             |      0.8418445
  v17             |      0.4100889
  v18             |      0.0735661
  v19             |      0.1492821
  v20             |      0.4687352
  v21             |      0.2815580
  v22             |      0.2919727
  v23             |      0.8978450
  v24             |      0.2373671
  v25             |     -2.6219283
  v26             |     -1.1052138
  v27             |     -3.7565029
  v28             |      0.2355017
  v29             |     -1.0034278
  v30             |     -0.1501052
  v31             |     -0.5491865
  v32             |     -0.1919725
  v33             |     -0.4998247
  v34             |     -0.2065952
  v35             |     -0.9856720
  v36             |      0.3640279
  v37             |      0.0026734
  v38             |     -0.1276458
  v39             |     -0.3325274
  v40             |     -0.1807252
  v41             |     -1.2653273
  v42             |     -1.4913100
  v43             |     -0.2290622
  v44             |     -0.9304369
  v45             |     -0.8125845
  v46             |     -1.2804159
  v47             |     -0.1668555
  v48             |     -0.9061920
  v49             |     -0.3282946
  v50             |     -0.0572943
  v51             |     -0.1362474
  v52             |      0.3436530
  v53             |      1.3519903
  v54             |      0.8501562
  v55             |     -0.0810669
  v56             |      1.2900648
  v57             |      0.4166264
  _cons           |     -2.5433030
Note: Coefficients correspond to decision boundary function.
